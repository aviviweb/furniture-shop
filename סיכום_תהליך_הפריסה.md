# âœ… ×¡×™×›×•× ×ª×”×œ×™×š ×”×¤×¨×™×¡×” - ××” ×”×•×©×œ×

## ××” ×”×¡×§×¨×™×¤×˜ ×¢×©×” ××•×˜×•××˜×™×ª:

### âœ… ×”×•×©×œ× ×‘×”×¦×œ×—×”:

1. **âœ… Railway CLI** - ××•×ª×§×Ÿ ×•×¤×•×¢×œ
2. **âœ… ×”×ª×—×‘×¨×•×ª ×œ-Railway** - ××—×•×‘×¨ ×¢× Token
3. **âœ… ×¤×¨×•×™×§×˜ ××§×•×©×¨** - Project linked
4. **âœ… Environment Variables ×”×•×’×“×¨×•:**
   - **API Service:** `DEMO_MODE=false`, `PORT=4000`
   - **Web Service:** `PORT=3000`, `NODE_ENV=production`, `NEXT_PUBLIC_TENANT_ID`, `NEXT_PUBLIC_BRAND_NAME`, `NEXT_PUBLIC_PRIMARY_COLOR`, `NEXT_PUBLIC_DEMO_MODE=false`
   - **Worker Service:** REDIS_URL ×•-DATABASE_URL ×××•×¨×™× ×œ×”×™×•×ª ××•×˜×•××˜×™×™×
5. **âœ… Deployments ×”×ª×—×™×œ×•:**
   - API Service deployment started
   - Web Service deployment started
   - Worker Service deployment started

### âš ï¸ ×“×•×¨×© ×ª×©×•××ª ×œ×‘:

1. **Migrations × ×›×©×œ×•** - DB ××•×œ×™ ×œ× ××•×›×Ÿ ×¢×“×™×™×Ÿ
   - **×¤×ª×¨×•×Ÿ:** ×”×¨×¥ ×™×“× ×™×ª ××—×¨×™ ×©×”-DB ××•×›×Ÿ:
     ```powershell
     railway run --service "@furniture/api" pnpm --filter @furniture/prisma migrate deploy
     ```

2. **×§×•×“ ×œ× × ×“×—×£ ×œ-GitHub** - ×‘×—×¨×ª ×œ×“×œ×’
   - **×¤×ª×¨×•×Ÿ:** ×× ×¦×¨×™×š, ×“×—×•×£ ×™×“× ×™×ª:
     ```powershell
     git add .
     git commit -m "Deploy: Railway deployment"
     git push origin main
     ```

---

## ğŸ“‹ ×¦×¢×“×™× ×™×“× ×™×™× ×©× ×•×ª×¨×• (×—×©×•×‘!):

### 1. ×”×•×¡×£ JWT_SECRET (API Service) - **×—×•×‘×”!**

**Railway Dashboard â†’ API Service â†’ Variables:**

```powershell
# ×¦×•×¨ ××¤×ª×—:
openssl rand -hex 32

# ×”×•×¡×£ ×‘-Dashboard:
JWT_SECRET=<×”××¤×ª×— ×©×™×¦×¨×ª>
```

---

### 2. ×”×’×“×¨ Build Commands - **×—×•×‘×”!**

**Railway Dashboard â†’ ×›×œ Service â†’ Settings â†’ Build:**

#### API Service:
```
pnpm install --frozen-lockfile && pnpm --filter @furniture/prisma generate && pnpm --filter @furniture/api build
```

#### Web Service:
```
pnpm install --frozen-lockfile && pnpm --filter @furniture/prisma generate && pnpm --filter @furniture/web build
```

#### Worker Service:
```
pnpm install --frozen-lockfile && pnpm --filter @furniture/prisma generate
```

---

### 3. ×”×’×“×¨ Start Commands - **×—×•×‘×”!**

**Railway Dashboard â†’ ×›×œ Service â†’ Settings â†’ Deploy:**

#### API Service:
```
pnpm --filter @furniture/api start
```

#### Web Service:
```
pnpm --filter @furniture/web start
```

#### Worker Service:
```
pnpm --filter @furniture/worker start
```

---

### 4. ×§×‘×œ URLs - **×—×•×‘×”!**

**Railway Dashboard â†’ ×›×œ Service â†’ Settings â†’ Networking:**

- ×œ×—×¥ **"Generate Domain"** ×œ×›×œ service
- ×”×¢×ª×§ ××ª ×”-URLs

---

### 5. ×¢×“×›×Ÿ Variables ×¢× URLs - **×—×•×‘×”!**

**API Service â†’ Variables:**
- `FRONTEND_URL` = `https://<web-url>.railway.app`

**Web Service â†’ Variables:**
- `NEXT_PUBLIC_API_URL` = `https://<api-url>.railway.app/api`

---

### 6. ×”×¨×¥ Migrations - **×—×•×‘×”!**

**×“×¨×š Dashboard:**
1. API Service â†’ Deployments â†’ "..." â†’ "Run Command"
2. ×”×¨×¥: `pnpm --filter @furniture/prisma migrate deploy`

**××• ×“×¨×š CLI:**
```powershell
railway run --service "@furniture/api" pnpm --filter @furniture/prisma migrate deploy
```

---

### 7. Redeploy - **×—×•×‘×”!**

**Railway Dashboard â†’ ×›×œ Service â†’ Deployments â†’ "Redeploy"**

---

### 8. ×‘×“×•×§ Logs - **×—×•×‘×”!**

**Railway Dashboard â†’ ×›×œ Service â†’ Logs:**

- **API:** ×¦×¨×™×š ×œ×¨××•×ª `âœ… API running on port 4000`
- **Web:** ×¦×¨×™×š ×œ×¨××•×ª `Ready on port 3000`
- **Worker:** ×¦×¨×™×š ×œ×¨××•×ª `Worker up with queues: ocr, ai-reports, notifications`

---

## ğŸ¯ ×¡×“×¨ ×¢×“×™×¤×•×™×•×ª:

1. **×”×•×¡×£ JWT_SECRET** (API Service) - ×”×›×™ ×—×©×•×‘!
2. **×”×’×“×¨ Build/Start Commands** (×›×œ Service) - ×§×¨×™×˜×™!
3. **×§×‘×œ URLs** (×›×œ Service)
4. **×¢×“×›×Ÿ Variables** ×¢× URLs
5. **×”×¨×¥ Migrations**
6. **Redeploy** ×›×œ ×”-services
7. **×‘×“×•×§ Logs**

---

## ğŸ’¡ ×˜×™×¤×™×:

- **×× Build × ×›×©×œ:** ×‘×“×•×§ ××ª ×”-Logs â†’ ×—×¤×© ×©×’×™××•×ª
- **×× Service ×œ× ×¢×•×œ×”:** ×‘×“×•×§ Environment Variables â†’ ×•×•×“× ×©×›×œ ××” ×©×¦×¨×™×š ××•×’×“×¨
- **×× ×™×© ×©×’×™××ª apiDelete:** ×”×§×•×“ ×‘-GitHub, ×¦×¨×™×š Redeploy ××• ×œ× ×§×•×ª Cache

---

## ğŸ“š ××“×¨×™×›×™× × ×•×¡×¤×™×:

- `×ª×™×§×•×Ÿ_×¡×•×¤×™_RAILWAY_×¢×›×©×™×•.md` - ×ª×™×§×•×Ÿ ××¤×•×¨×˜
- `×ª×™×§×•×Ÿ_WORKER_RAILWAY.md` - ×ª×™×§×•×Ÿ Worker
- `×”×¢×œ××ª_××¤×œ×™×§×¦×™×”_×œ××•×•×™×¨.md` - ××“×¨×™×š ××”×™×¨

---

**×”×ª×”×œ×™×š ×”××•×˜×•××˜×™ ×”×•×©×œ×! ×¢×›×©×™×• ×¦×¨×™×š ×œ×¢×©×•×ª ××ª ×”×©×œ×‘×™× ×”×™×“× ×™×™× ×‘-Dashboard.**

