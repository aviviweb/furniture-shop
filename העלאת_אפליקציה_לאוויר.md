# ğŸš€ ×”×¢×œ××ª ×”××¤×œ×™×§×¦×™×” ×œ××•×•×™×¨ - ××“×¨×™×š ××”×™×¨

## âœ… ×¤×ª×¨×•×Ÿ ××•×˜×•××˜×™ ××œ×

×”×¨×¥ ××ª ×”×¡×§×¨×™×¤×˜ ×”××•×˜×•××˜×™:

```powershell
pnpm railway:deploy
```

××•:

```powershell
.\deploy-to-railway.ps1
```

---

## ××” ×”×¡×§×¨×™×¤×˜ ×¢×•×©×” ××•×˜×•××˜×™×ª:

1. âœ… **×‘×•×“×§ Railway CLI** - ××ª×§×™×Ÿ ×× ×—×¡×¨
2. âœ… **××ª×—×‘×¨ ×œ-Railway** - ××©×ª××© ×‘-Token
3. âœ… **××§×©×¨ ×¤×¨×•×™×§×˜** - ×× ×œ× ××§×•×©×¨
4. âœ… **××’×“×™×¨ Environment Variables** - ×œ×›×œ ×”-services
5. âœ… **××¨×™×¥ Migrations** - Database migrations
6. âœ… **×“×•×—×£ ×§×•×“ ×œ-GitHub** - ×× ×™×© ×©×™× ×•×™×™×
7. âœ… **××¤×¨×™×¡ Services** - API, Web, Worker

---

## ×¦×¢×“×™× ×™×“× ×™×™× ×©× ×•×ª×¨×•:

### 1. ×”×•×¡×£ JWT_SECRET (API Service)

**Railway Dashboard â†’ API Service â†’ Variables:**

```powershell
# ×¦×•×¨ ××¤×ª×— ×—×–×§:
openssl rand -hex 32

# ×”×•×¡×£ ×‘-Dashboard:
JWT_SECRET=<×”××¤×ª×— ×©×™×¦×¨×ª>
```

---

### 2. ×”×’×“×¨ Build Commands (×›×œ Service)

**Railway Dashboard â†’ ×›×œ Service â†’ Settings â†’ Build:**

#### API Service:
```
pnpm install --frozen-lockfile && pnpm --filter @furniture/prisma generate && pnpm --filter @furniture/api build
```

#### Web Service:
```
pnpm install --frozen-lockfile && pnpm --filter @furniture/prisma generate && pnpm --filter @furniture/web build
```

#### Worker Service:
```
pnpm install --frozen-lockfile && pnpm --filter @furniture/prisma generate
```

---

### 3. ×”×’×“×¨ Start Commands (×›×œ Service)

**Railway Dashboard â†’ ×›×œ Service â†’ Settings â†’ Deploy:**

#### API Service:
```
pnpm --filter @furniture/api start
```

#### Web Service:
```
pnpm --filter @furniture/web start
```

#### Worker Service:
```
pnpm --filter @furniture/worker start
```

---

### 4. ×§×‘×œ URLs (×›×œ Service)

**Railway Dashboard â†’ ×›×œ Service â†’ Settings â†’ Networking:**

- ×œ×—×¥ **"Generate Domain"** ×œ×›×œ service
- ×”×¢×ª×§ ××ª ×”-URLs

---

### 5. ×¢×“×›×Ÿ Variables ×¢× URLs

**API Service â†’ Variables:**
- `FRONTEND_URL` = `https://<web-url>.railway.app`

**Web Service â†’ Variables:**
- `NEXT_PUBLIC_API_URL` = `https://<api-url>.railway.app/api`

---

### 6. Redeploy

**Railway Dashboard â†’ ×›×œ Service â†’ Deployments â†’ "Redeploy"**

---

### 7. ×‘×“×•×§ Logs

**Railway Dashboard â†’ ×›×œ Service â†’ Logs:**

- **API:** ×¦×¨×™×š ×œ×¨××•×ª `âœ… API running on port 4000`
- **Web:** ×¦×¨×™×š ×œ×¨××•×ª `Ready on port 3000`
- **Worker:** ×¦×¨×™×š ×œ×¨××•×ª `Worker up with queues: ocr, ai-reports, notifications`

---

## ğŸ¯ ×¡×“×¨ ×¤×¢×•×œ×•×ª ××•××œ×¥:

1. **×”×¨×¥ ××ª ×”×¡×§×¨×™×¤×˜:** `pnpm railway:deploy`
2. **×”×•×¡×£ JWT_SECRET** ×‘-Dashboard
3. **×”×’×“×¨ Build/Start Commands** ×‘-Dashboard
4. **×§×‘×œ URLs** ×-Networking
5. **×¢×“×›×Ÿ Variables** ×¢× URLs
6. **Redeploy** ×›×œ ×”-services
7. **×‘×“×•×§ Logs** - ×•×•×“× ×©×”×›×œ ×¢×•×‘×“

---

## ğŸ’¡ ×˜×™×¤×™×:

- **×× Build × ×›×©×œ:** ×‘×“×•×§ ××ª ×”-Logs â†’ ×—×¤×© ×©×’×™××•×ª
- **×× Service ×œ× ×¢×•×œ×”:** ×‘×“×•×§ Environment Variables â†’ ×•×•×“× ×©×›×œ ××” ×©×¦×¨×™×š ××•×’×“×¨
- **×× ×™×© ×©×’×™××ª apiDelete:** ×”×§×•×“ ×‘-GitHub, ×¦×¨×™×š Redeploy ××• ×œ× ×§×•×ª Cache

---

## ğŸ“š ××“×¨×™×›×™× × ×•×¡×¤×™×:

- `×ª×™×§×•×Ÿ_×¡×•×¤×™_RAILWAY_×¢×›×©×™×•.md` - ×ª×™×§×•×Ÿ ××¤×•×¨×˜
- `×ª×™×§×•×Ÿ_WORKER_RAILWAY.md` - ×ª×™×§×•×Ÿ Worker
- `deploy-to-railway.ps1` - ×”×¡×§×¨×™×¤×˜ ×”××•×˜×•××˜×™

---

**×‘×•××• × ×ª×—×™×œ! ×”×¨×¥:** `pnpm railway:deploy`

