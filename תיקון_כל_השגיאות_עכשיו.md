# ğŸš¨ ×ª×™×§×•×Ÿ ××™×™×“×™: ×›×œ ×”-Services × ×›×©×œ×™×!

## ğŸ“Š ×”××¦×‘ ×”× ×•×›×—×™:

- âœ… **GitHub ××—×•×‘×¨!** (×™×© ××™×™×§×•×Ÿ GitHub)
- âŒ `@furniture/worker` - Build failed
- âŒ `@furniture/api` - Crashed
- âŒ `@furniture/web` - Build failed

---

## ğŸ”§ ×ª×™×§×•×Ÿ ××™×™×“×™ - ×©×œ×‘ ××—×¨ ×©×œ×‘:

### ×©×œ×‘ 1: ×ª×™×§×•×Ÿ API Service (Crashed)

1. **×œ×—×¥ ×¢×œ `@furniture/api`** (×”×›×¨×˜×™×¡ ×¢× ×”-red border)
2. **×œ×—×¥ ×¢×œ "Deployments"** (×‘×ª×¤×¨×™×˜ ×”×©×××œ×™)
3. **×œ×—×¥ ×¢×œ ×”-Deployment ×”××—×¨×•×Ÿ** (×–×” ×©× ×›×©×œ)
4. **×œ×—×¥ ×¢×œ "View Logs"** ××• **"Logs"**
5. **×’×œ×•×œ ×œ××˜×”** â†’ ×”×¢×ª×§ ××ª ×”×©×’×™××” ×”××“×•×™×§×ª

**×”×©×’×™××•×ª ×”× ×¤×•×¦×•×ª:**
- `Can't reach database server` â†’ ×¦×¨×™×š `DATABASE_URL`
- `Port already in use` â†’ ×¦×¨×™×š `PORT=4000`
- `Build failed` â†’ ×¦×¨×™×š Build Command × ×›×•×Ÿ

---

### ×©×œ×‘ 2: ×‘×“×•×§ ××ª ×”-Build Commands

#### API Service:
1. **`@furniture/api`** â†’ **Settings** â†’ **Build**
2. **×•×•×“× ×©-Custom Build Command:**
   ```
   pnpm install --frozen-lockfile && pnpm --filter @furniture/prisma generate && pnpm --filter @furniture/api build
   ```
3. **Settings** â†’ **Deploy** â†’ **Start Command:**
   ```
   pnpm --filter @furniture/api start
   ```
4. **×©××•×¨**

#### Web Service:
1. **`@furniture/web`** â†’ **Settings** â†’ **Build**
2. **×•×•×“× ×©-Custom Build Command:**
   ```
   pnpm install --frozen-lockfile && pnpm --filter @furniture/prisma generate && pnpm --filter @furniture/web build
   ```
3. **Settings** â†’ **Deploy** â†’ **Start Command:**
   ```
   pnpm --filter @furniture/web start
   ```
4. **×©××•×¨**

#### Worker Service:
1. **`@furniture/worker`** â†’ **Settings** â†’ **Build**
2. **×•×•×“× ×©-Custom Build Command:**
   ```
   pnpm install --frozen-lockfile && pnpm --filter @furniture/prisma generate
   ```
3. **Settings** â†’ **Deploy** â†’ **Start Command:**
   ```
   pnpm --filter @furniture/worker start
   ```
4. **×©××•×¨**

---

### ×©×œ×‘ 3: ×‘×“×•×§ ××ª ×”-Environment Variables

#### API Service â†’ Variables:
```
DEMO_MODE=false
JWT_SECRET=<×¦×•×¨ ××¤×ª×— ×—×–×§>
PORT=4000
DATABASE_URL=<×××•×¨ ×œ×”×™×•×ª ××•×˜×•××˜×™ ×-PostgreSQL>
REDIS_URL=<×××•×¨ ×œ×”×™×•×ª ××•×˜×•××˜×™ ×-Redis>
FRONTEND_URL=<×ª×¢×“×›×Ÿ ××—×¨×™ ×©×ª×§×‘×œ web-url>
```

#### Web Service â†’ Variables:
```
NEXT_PUBLIC_TENANT_ID=furniture-demo
NEXT_PUBLIC_BRAND_NAME=Furniture Shop
NEXT_PUBLIC_PRIMARY_COLOR=#0ea5e9
NEXT_PUBLIC_DEMO_MODE=false
NODE_ENV=production
PORT=3000
NEXT_PUBLIC_API_URL=<×ª×¢×“×›×Ÿ ××—×¨×™ ×©×ª×§×‘×œ api-url>/api
```

#### Worker Service â†’ Variables:
```
REDIS_URL=<×××•×¨ ×œ×”×™×•×ª ××•×˜×•××˜×™ ×-Redis>
DATABASE_URL=<×××•×¨ ×œ×”×™×•×ª ××•×˜×•××˜×™ ×-PostgreSQL>
```

---

### ×©×œ×‘ 4: ×‘×“×•×§ ××ª ×”-Database

1. **Dashboard** â†’ ×—×¤×© **PostgreSQL** service
2. **×•×•×“× ×©×”×•× Online** (×œ× Crashed)
3. **×× ×”×•× Crashed** â†’ ×œ×—×¥ ×¢×œ×™×• â†’ **Redeploy**

---

### ×©×œ×‘ 5: ×”×¨×¥ Migrations

1. **`@furniture/api`** â†’ **Deployments**
2. **×œ×—×¥ ×¢×œ "..."** (3 × ×§×•×“×•×ª) â†’ **"Run Command"** ××• **"Shell"**
3. **×”×¨×¥:**
   ```
   pnpm --filter @furniture/prisma migrate deploy
   ```
4. **×—×›×” ×©×–×” ××¡×ª×™×™×**

---

### ×©×œ×‘ 6: Redeploy ×”×›×œ

1. **×œ×›×œ service** â†’ **Deployments** â†’ **"Redeploy"**
2. **×—×›×” ×©×›×œ ×”-builds ××¡×ª×™×™××™×**
3. **×‘×“×•×§ ××ª ×”-Logs** â†’ ×•×•×“× ×©××™×Ÿ ×©×’×™××•×ª

---

## ğŸ¯ ×¡×“×¨ ×¢×“×™×¤×•×™×•×ª:

1. **×ª×™×§×•×Ÿ API** (Crashed) - ×”×›×™ ×—×©×•×‘!
2. **×ª×™×§×•×Ÿ Web** (Build failed)
3. **×ª×™×§×•×Ÿ Worker** (Build failed)

---

## ğŸ’¡ ××” ×œ×‘×“×•×§ ×¢×›×©×™×•:

1. **×œ×—×¥ ×¢×œ `@furniture/api`** â†’ **Logs**
2. **×”×¢×ª×§ ××ª ×”×©×’×™××” ×”××“×•×™×§×ª**
3. **×©×œ×— ×œ×™** â†’ ×•××ª×§×Ÿ ×‘×”×ª××

---

**×‘×•××• × ×ª×—×™×œ ×¢× API - ×–×” ×”×›×™ ×§×¨×™×˜×™!**

