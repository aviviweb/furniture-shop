# ğŸš€ ×”×•×¦××” ×××¦×‘ ×“××• - Production Mode

## ğŸ” ××” ×–×” ××¦×‘ ×“××•?

×‘××¦×‘ ×“××•:
- âŒ ×”× ×ª×•× ×™× ×œ× × ×©××¨×™× ×‘-Database ×”×××™×ª×™
- âŒ ×”×›×œ ×¢×•×‘×“ ×¢× Mock Data
- âŒ ××™×Ÿ ×—×™×‘×•×¨ ×××™×ª×™ ×œ-PostgreSQL

×‘××¦×‘ Production:
- âœ… ×”× ×ª×•× ×™× × ×©××¨×™× ×‘-Database ×”×××™×ª×™
- âœ… ×”×›×œ ×¢×•×‘×“ ×¢× Prisma Client ×××™×ª×™
- âœ… ×™×© ×—×™×‘×•×¨ ×××™×ª×™ ×œ-PostgreSQL

---

## âœ… ×©×œ×‘ 1: ×”×’×“×¨ DEMO_MODE=false ×‘-API Service

### ×“×¨×š Railway Dashboard:

1. **Railway Dashboard** â†’ **API Service** â†’ **"Variables"** (××©×××œ)
2. **×—×¤×© `DEMO_MODE`** â†’ **×œ×—×¥ ×¢×œ×™×•** â†’ **×¢×¨×•×š**
3. **×”×—×œ×£ ××ª ×”×¢×¨×š ×œ-`false`**
4. **×©××•×¨**

### ×“×¨×š CLI:

```powershell
railway variables set DEMO_MODE=false --service @furniture/api
```

---

## âœ… ×©×œ×‘ 2: ×•×•×“× ×©-DATABASE_URL ××•×’×“×¨

1. **PostgreSQL Service** â†’ **"Variables"** â†’ **×”×¢×ª×§ `DATABASE_URL`**
2. **API Service** â†’ **"Variables"** â†’ **×•×•×“× ×©-`DATABASE_URL` ×–×”×”**
3. **×× ×œ×** â†’ ×¢×¨×•×š ×•×”×“×‘×§

---

## âœ… ×©×œ×‘ 3: ×”×¨×¥ Migrations (×× ×¦×¨×™×š)

```powershell
pnpm railway:migrate
```

××• ×“×¨×š Dashboard:
- **API Service** â†’ **Deployments** â†’ **"Run Command"**
- **×”×¨×¥:** `pnpm --filter @furniture/prisma migrate deploy`

---

## âœ… ×©×œ×‘ 4: ×”×¨×¥ Seed (×œ×™×¦×™×¨×ª × ×ª×•× ×™× ×¨××©×•× ×™×™×)

### ×“×¨×š Railway Dashboard:

1. **API Service** â†’ **Deployments** â†’ **"Run Command"** ××• **"Shell"**
2. **×”×¨×¥:**
   ```
   pnpm --filter @furniture/prisma db seed
   ```

×–×” ×™×™×¦×•×¨:
- âœ… ××©×ª××© SUPER_ADMIN: `super@platform.local` / `changeme`
- âœ… Company: `furniture-demo`
- âœ… ××©×ª××©×™ OWNER: `owner1@demo.local` / `changeme`
- âœ… ××•×¦×¨×™×, ×”×–×× ×•×ª, ×•×›×•'

---

## âœ… ×©×œ×‘ 5: Redeploy API Service

### ×“×¨×š Dashboard:

1. **API Service** â†’ **Deployments** â†’ **"Redeploy"**
2. **×‘×—×¨ `main`** â†’ **"Deploy"**
3. **×—×›×” 3-5 ×“×§×•×ª**

### ×“×¨×š CLI:

```powershell
pnpm deploy:api
```

---

## âœ… ×©×œ×‘ 6: ×‘×“×•×§ ×©×”-API ×¢×•×‘×“

### ×‘×“×•×§ Logs:

```powershell
pnpm railway:logs:api
```

**×—×¤×©:**
```
âœ… API running on port 4000, Demo Mode: false
```

**×× ××ª×” ×¨×•××” `Demo Mode: false`** â†’ ×–×” ×¢×•×‘×“! âœ…

---

## âœ… ×©×œ×‘ 7: ×©× ×” Company ×œ-Production Mode

### ×“×¨×š Super Admin Panel:

1. **×”×ª×—×‘×¨ ×›-Super Admin:**
   - Email: `super@platform.local`
   - Password: `changeme`

2. **×œ×š ×œ-** `/superadmin`

3. **×‘×˜×œ ××ª ×”×¡×™××•×Ÿ ×©×œ "××¦×‘ ×“××•"**

4. **×œ×—×¥ "×©××•×¨"**

### ×“×¨×š API ×™×©×™×¨×•×ª:

```powershell
# PATCH /api/superadmin/toggleDemoMode
$body = @{
    tenantId = "furniture-demo"
    demo = $false
} | ConvertTo-Json

Invoke-RestMethod -Uri "https://your-api-url.railway.app/api/superadmin/toggleDemoMode" -Method Patch -Body $body -ContentType "application/json" -Headers @{Authorization = "Bearer YOUR_TOKEN"}
```

---

## ğŸ“‹ Checklist:

- [ ] ×”×’×“×¨×ª×™ `DEMO_MODE=false` ×‘-API Service
- [ ] ×•×™×“××ª×™ ×©-`DATABASE_URL` ××•×’×“×¨ × ×›×•×Ÿ
- [ ] ×”×¨×¦×ª×™ Migrations
- [ ] ×”×¨×¦×ª×™ Seed (×œ×™×¦×™×¨×ª × ×ª×•× ×™× ×¨××©×•× ×™×™×)
- [ ] ×‘×™×¦×¢×ª×™ Redeploy ×œ-API Service
- [ ] ×‘×“×§×ª×™ Logs - `Demo Mode: false`
- [ ] ×©×™× ×™×ª×™ Company ×œ-Production Mode ×“×¨×š Super Admin

---

## ğŸ†˜ ×× ××©×”×• ×œ× ×¢×•×‘×“:

### ×©×’×™××”: "Can't reach database server"

â†’ ×•×•×“× ×©-`DATABASE_URL` × ×›×•×Ÿ ×•-PostgreSQL ×¢×•×‘×“

### ×©×’×™××”: "Table doesn't exist"

â†’ ×”×¨×¥ Migrations:
```powershell
pnpm railway:migrate
```

### ×©×’×™××”: "User not found"

â†’ ×”×¨×¥ Seed:
```powershell
# ×“×¨×š Railway Dashboard â†’ Run Command
pnpm --filter @furniture/prisma db seed
```

---

## ğŸ¯ ×¡×™×›×•×:

**×”×“×¨×š ×”×›×™ ×§×œ×”:**

1. **Railway Dashboard** â†’ **API Service** â†’ **Variables** â†’ **`DEMO_MODE=false`**
2. **Redeploy API Service**
3. **×”×¨×¥ Seed** (×× ×¦×¨×™×š × ×ª×•× ×™× ×¨××©×•× ×™×™×)
4. **×‘×“×•×§ Logs** â†’ ×××•×¨ ×œ×¨××•×ª `Demo Mode: false`

**×–×” ×”×›×œ!** ğŸš€

---

**×”×ª×—×œ ×¢× ×”×’×“×¨×ª `DEMO_MODE=false` ×‘-API Service!**

